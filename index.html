<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hopkinton Cheetahs - Team Management</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Login Screen -->
    <div id="loginScreen" class="login-screen">
        <div class="login-container">
            <div class="logo-container">
                <svg class="team-logo" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="100" cy="100" r="90" fill="#FF6B35" stroke="#000" stroke-width="3"/>
                    <path d="M 60 80 Q 100 40 140 80 Q 100 120 60 80" fill="#000"/>
                    <circle cx="85" cy="85" r="8" fill="#FFF"/>
                    <circle cx="115" cy="85" r="8" fill="#FFF"/>
                    <ellipse cx="100" cy="105" rx="15" ry="8" fill="#000"/>
                    <path d="M 50 130 Q 100 150 150 130" stroke="#000" stroke-width="3" fill="none"/>
                    <text x="100" y="180" text-anchor="middle" font-size="20" font-weight="bold" fill="#000">CHEETAHS</text>
                </svg>
                <h1>Hopkinton Cheetahs</h1>
                <p class="subtitle">NECA Tournament Team Management</p>
            </div>
            <form id="loginForm" class="login-form">
                <div class="form-group">
                    <label for="userRole">Login As:</label>
                    <select id="userRole" required>
                        <option value="">Select role</option>
                        <option value="captain">Captain</option>
                        <option value="player">Player</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="password">Password:</label>
                    <input type="password" id="password" required placeholder="Enter password">
                </div>
                <button type="submit" class="btn btn-primary">Login</button>
                <p class="login-hint">Default passwords: captain="cheeta26", player="player123"</p>
            </form>
        </div>
    </div>

    <!-- Main Application -->
    <div id="appScreen" class="app-screen" style="display: none;">
        <header>
            <div class="header-content">
                <div class="logo-small">
                    <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="50" cy="50" r="45" fill="#FF6B35" stroke="#000" stroke-width="2"/>
                        <path d="M 30 40 Q 50 20 70 40 Q 50 60 30 40" fill="#000"/>
                        <circle cx="42" cy="42" r="4" fill="#FFF"/>
                        <circle cx="58" cy="42" r="4" fill="#FFF"/>
                        <ellipse cx="50" cy="52" rx="7" ry="4" fill="#000"/>
                    </svg>
                </div>
                <div class="header-image">
                    <img src="https://source.unsplash.com/collection/1189605/140x140" alt="Cricket action">
                </div>
                <div class="header-text">
                    <h1>Hopkinton Cheetahs</h1>
                    <p class="subtitle">NECA Tournament Management</p>
                </div>
                <div class="header-controls">
                    <div class="year-selector">
                        <label for="yearSelect">Tournament Year:</label>
                        <select id="yearSelect"></select>
                    </div>
                    <button id="logoutBtn" class="btn btn-secondary">Logout</button>
                </div>
            </div>
        </header>

        <nav class="main-nav" id="mainNav">
            <button class="nav-btn active" data-view="dashboard">Dashboard</button>
            <button class="nav-btn" data-view="players" id="navPlayers">Players</button>
            <button class="nav-btn" data-view="games" id="navGames">Games</button>
            <button class="nav-btn" data-view="availability">Availability</button>
            <button class="nav-btn" data-view="refreshments">Refreshments</button>
            <button class="nav-btn" data-view="payments">Payments</button>
        </nav>

        <div class="container">
            <!-- Dashboard View -->
            <div id="dashboardView" class="view active">
                <section class="stats-section">
                    <div class="stat-card">
                        <h3>Total Players</h3>
                        <p class="stat-value" id="statPlayers">0</p>
                    </div>
                    <div class="stat-card">
                        <h3>Games This Year</h3>
                        <p class="stat-value" id="statGames">0</p>
                    </div>
                    <div class="stat-card">
                        <h3>Total Refreshments</h3>
                        <p class="stat-value" id="statRefreshments">$0.00</p>
                    </div>
                    <div class="stat-card">
                        <h3>Outstanding Payments</h3>
                        <p class="stat-value" id="statPayments">$0.00</p>
                    </div>
                </section>
                <section class="summary-section">
                    <h2>Quick Summary</h2>
                    <div id="dashboardSummary"></div>
                </section>
                <section class="section">
                    <h2>Total Matches Played</h2>
                    <div class="table-container">
                        <table class="data-table" id="matchesPlayedTable">
                            <thead>
                                <tr>
                                    <th>Player</th>
                                    <th>Matches Played</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td colspan="2" style="text-align: center; padding: 20px;">No data yet</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>
            </div>

            <!-- Players View (Captain Only) -->
            <div id="playersView" class="view">
                <section class="section">
                    <h2>Player Management</h2>
                    <form id="playerForm" class="form">
                        <input type="hidden" id="playerId" value="">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="playerName">Player Name:</label>
                                <input type="text" id="playerName" required placeholder="Enter player name">
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary" id="playerSubmitBtn">Add Player</button>
                                <button type="button" class="btn btn-secondary" id="playerCancelBtn" style="display: none;">Cancel</button>
                            </div>
                        </div>
                    </form>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Player Name</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="playersTableBody">
                            </tbody>
                        </table>
                    </div>
                </section>
            </div>

            <!-- Games View (Captain Only) -->
            <div id="gamesView" class="view">
                <section class="section">
                    <h2>Game Management</h2>
                    <form id="gameForm" class="form">
                        <input type="hidden" id="gameId" value="">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="gameDate">Game Date:</label>
                                <input type="date" id="gameDate" required>
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary" id="gameSubmitBtn">Add Game</button>
                                <button type="button" class="btn btn-secondary" id="gameCancelBtn" style="display: none;">Cancel</button>
                            </div>
                        </div>
                    </form>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Players Who Played</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="gamesTableBody">
                            </tbody>
                        </table>
                    </div>
                </section>
            </div>

            <!-- Availability View -->
            <div id="availabilityView" class="view">
                <section class="section">
                    <h2>Player Availability</h2>
                    <div class="table-container">
                        <table class="data-table availability-table">
                            <thead>
                                <tr id="availabilityHeaderRow">
                                    <th>Player</th>
                                </tr>
                            </thead>
                            <tbody id="availabilityTableBody">
                            </tbody>
                        </table>
                    </div>
                </section>
            </div>

            <!-- Refreshments View -->
            <div id="refreshmentsView" class="view">
                <section class="section">
                    <h2>Refreshment Expenses</h2>
                    <form id="refreshmentForm" class="form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="refreshmentPlayer">Player:</label>
                                <select id="refreshmentPlayer" required>
                                    <option value="">Select player</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="refreshmentAmount">Amount ($):</label>
                                <input type="number" id="refreshmentAmount" step="0.01" min="0" required placeholder="0.00">
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary">Add Refreshment</button>
                            </div>
                        </div>
                    </form>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Player</th>
                                    <th>Total Refreshments ($)</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="refreshmentsTableBody">
                            </tbody>
                        </table>
                    </div>
                </section>
            </div>

            <!-- Payments View -->
            <div id="paymentsView" class="view">
                <section class="section">
                    <h2>Payment Summary</h2>
                    <div class="table-container">
                        <table class="data-table payments-table">
                            <thead>
                                <tr>
                                    <th>Player</th>
                                    <th>Games Played</th>
                                    <th>Base Payment ($15/game)</th>
                                    <th>Refreshments Paid</th>
                                    <th>Final Amount</th>
                                </tr>
                            </thead>
                            <tbody id="paymentsTableBody">
                            </tbody>
                        </table>
                    </div>
                </section>
            </div>
        </div>
    </div>

    <!-- Modal for marking players who played -->
    <div id="playersPlayedModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Mark Players Who Played</h2>
            <div id="playersPlayedList"></div>
            <div class="modal-actions">
                <button id="savePlayersPlayed" class="btn btn-primary">Save</button>
                <button id="cancelPlayersPlayed" class="btn btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
